apply plugin: 'com.android.model.application'

model {
    android {
        compileSdkVersion = 23
        buildToolsVersion = "23.0.2"

        defaultConfig {
            applicationId = "com.example.native_activity"
            minSdkVersion.apiLevel    = 9
            targetSdkVersion.apiLevel = 23
        }
        ndk {
            stl = "gnustl_static"
            moduleName ="native-activity"
            cppFlags.add("-I${file("src/main/jni/native_app_glue")}".toString())
            cppFlags.add("-std=c++11")
            ldLibs.addAll(["log", "android", "EGL", "GLESv1_CM"])
        }
        buildTypes {
            release {
                minifyEnabled = false
                proguardFiles.add(file('proguard-rules.txt'))
            }
        }
        productFlavors {
            create ("arm7") {
                ndk.abiFilters.add("armeabi-v7a")
            }
            create ("arm8") {
                ndk.abiFilters.add("arm64-v8a")
            }
            create ("x86-32") {
                ndk.abiFilters.add("x86")
            }
            // for detailed abiFilter descriptions, refer to "Supported ABIs" @
            // https://developer.android.com/ndk/guides/abis.html#sa
            // build one including all productFlavors
            // build one including all productFlavors
            create("fat")
        }
    }
}
